import axios from 'axios'
import qs from 'qs'

const state = {
  citys: []
}

const getters = {
  getCitys: state => state.citys
}

const mutations = {
  CITYS_LIST: (state, citys) => {
    state.citys = citys
  }
}

const actions = {
  getCitys ({ state, commit }) {
    return axios({
      url: 'http://map.art1001.com/ald/api/1/citys/list',
      data: qs.stringify({ levelType: 1 }),
      method: 'post',
      headers: {
        'X-Requested-With': 'XMLHttpRequest',
        'Content-Type': 'application/x-www-form-urlencoded'
      }
    }).then((response) => {
      commit('CITYS_LIST', response.data.data)
    }).catch((error) => {
      console.log(error)
    })
  }
}

export default {
  state,
  getters,
  mutations,
  actions
}
