<template>
  <div>
    <div class="featurebar">
      <ul class="ul">
        <li id="undoneTab" class="active"><a href="/zentao/project-all-undone-10.html">未完成</a>
        </li>
        <li id="allTab"><a href="/zentao/project-all-all-10.html">所有</a>
        </li>
        <li id="waitTab"><a href="/zentao/project-all-wait-10.html">未开始</a>
        </li>
        <li id="doingTab"><a href="/zentao/project-all-doing-10.html">进行中</a>
        </li>
        <li id="suspendedTab"><a href="/zentao/project-all-suspended-10.html">已挂起</a>
        </li>
        <li id="doneTab"><a href="/zentao/project-all-done-10.html">已完成</a>
        </li>
      </ul>
    </div>
    <div class="main">
      <dataTable :data="state.data"></dataTable>
      <pagination v-model="currentPage" :total-page="totalPage" align="center"/>
    </div>
  </div>
</template>

<script>
  import { mapGetters } from 'vuex'
  import dataTable from './table.vue'

  export default {
    name: 'Project',
    data () {
      return {
        currentPage: 1,
        totalPage: 99
      }
    },
    computed: {
      ...mapGetters({
        state: 'projectState'
      })
    },
    components: {dataTable},
    asyncData ({store}) {
      store.dispatch('isProjectState')
    }
  }
</script>

<style lang="less">
  .main {
    padding: 20px;
  }

  .featurebar {
    display: block;
    width: 100%;
    font-size: 14px;
    background: #ebf1f9;
    border-bottom: 1px solid #ddd;
    line-height: 30px;
    min-height: 46px;
    .ul {
      margin: 0;
      padding: 8px 13px;
      li {
        float: left;
        line-height: 30px;
        transition: all 0.3s;
        a {
          color: #141414;
          display: block;
          padding: 0 7px;
          text-decoration: none;
          font-size: 13px;
        }
        &.active {
          font-weight: bold;
        }
        &:hover {
          background-color: rgb(221, 221, 221);
        }
      }
    }
  }
</style>
